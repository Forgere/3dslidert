<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<script src="js/modernizr.custom.js"></script>
	</head>
	<body>
		<div class="container">
			<div id="gr-gallery" class="gr-gallery">
				<div class="gr-main">
				</div>
			</div>
		</div><!-- /container -->
		<script src="http://libs.useso.com/js/jquery/1.8.3/jquery.min.js"></script>
		<script src="js/wallgallery.js"></script>
		<script>
			$(function() {
				$.ajax({
					async:false,
					url: "http://dev.kadashow.com:8000/api/v1/galleryshare/MzE4OTE0MDc2ODA=/",
					type: "GET",
					dataType: "jsonp",
					jsonp: "callback",
					jsonpCallback: 'success_jsonpCallback',
					contentType: "application/jsonp; charset=utf-8",
					success: function(result) {
						var ajax = result;
						var ajaxphotos = ajax.scenes,
								// 每面墙的容量
								ajaxlayout = [],
								//由图片src组成数组
								romoteObject = [],
								//每面墙的相框相关图片
								wallgroup= [];
						$.each(ajaxphotos,function(i) {
							ajaxlayout[i] = ajaxphotos[i].scene_template.capacity;
							//图片src并入数组
							romoteObject[i] = "http://kadaphoto.img-cn-beijing.aliyuncs.com/User/" + ajax.photos[i].image + "@80p";
						});
						Gallery.init({
							layout : ajaxlayout,  //给主墙限定一个宽度是为了将图片限制在“墙”的范围内。每一面墙上的图片的数量是图片总数除以wallNumber(最后一面墙是剩下的图片)，我们也可以自定义每面墙上的图片数量(当图片总数不够填补最后一页时，有多少显示多少，没有则空白墙)
		          romoteObject : romoteObject,// 图片数组
						});
					}
				});
			});
		</script>
	</body>
</html>
